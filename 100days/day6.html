<html>

<head>
  <!-- Our unique tag to identify the solution -->
  <bds />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BigDevSoon Challenge</title>

  <!-- TailwindCSS for styling. Feel free to integrate other libraries as needed -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Add your external script links here, if any -->
</head>

<body>
  <!-- solution -->
  <div class="poppins-regular flex flex-col gap-10 h-full w-full bg-gray-900 items-center justify-center">

    <!-- top image -->
    <div class="flex justify-center gap-8 items-center">

      <!-- prev -->
      <button id="move-left" class="p-3 border-2 border-white rounded-full" onclick="changeTo(currentIndex-1)" type="button">
        <i data-lucide="move-left" class="text-white"></i>
      </button>

      <!-- image -->
      <img id="view-image" src="https://i.ibb.co/zR1WtjT/constantin-popp-lu-Sj0-X-gsh-U-unsplash.jpg" class="border-4 border-white h-[600px]">

      <!-- next -->
      <button id="move-left" class="p-3 border-2 border-white rounded-full" onclick="changeTo(currentIndex+1)" type="button">
        <i data-lucide="move-right" class="text-white"></i>
      </button>
    </div>

    <!-- bottom images -->
    <div id="images" class="flex gap-4 max-w-screen">
      <img class="cursor-pointer h-48 border-2 border-white" src="https://i.ibb.co/zR1WtjT/constantin-popp-lu-Sj0-X-gsh-U-unsplash.jpg" alt="">
      <img class="cursor-pointer h-48" src="https://i.ibb.co/4sj3spH/marita-kavelashvili-ugnr-Xk1129g-unsplash.jpg" alt="">
      <img class="cursor-pointer h-48" src="https://i.ibb.co/jHttK24/phil-henry-2fd-ACKFyf-Tk-unsplash.jpg" alt="">
      <img class="cursor-pointer h-48" src="https://i.ibb.co/Z61y4VM/johann-siemens-EPy0g-BJzz-ZU-unsplash.jpg" alt="">
      <img class="cursor-pointer h-48" src="https://i.ibb.co/ggS7M5B/photo-1530454265282-6f59d1af2df1.jpg" alt="">
      <img class="cursor-pointer h-48" src="https://i.ibb.co/yPCYYDg/niko-photos-t-GTVxe-Or-Rs-unsplash.jpg" alt="">
    </div>

  </div>

  <!-- lucide -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
  </script>

  <!-- actions -->
  <script>

    const viewImageDOM = document.getElementById('view-image')
    const previewImagesDOM = document.querySelectorAll('#images img')
    previewImagesDOM.forEach((image, index) => image.addEventListener('click', e => changeTo(index)))
    
    let currentIndex = 0
    let previousIndex = 0

    function changeTo(index) {
      previousIndex = currentIndex
      currentIndex = getRotatedIndex(index)
      viewImageDOM.src = previewImagesDOM[currentIndex].src
      previewImagesDOM[previousIndex].className = 'cursor-pointer h-48'
      previewImagesDOM[currentIndex].className = 'cursor-pointer h-48 border-2 border-white'
    }

    function getRotatedIndex(index) {
      const firstIndex = 0
      const lastIndex = previewImagesDOM.length - 1
      if (index < firstIndex) return lastIndex
      if (index > lastIndex) return firstIndex
      return index
    }
  </script>

</body>

</html>
